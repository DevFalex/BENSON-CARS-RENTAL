UAGBCountdown={elements:{},countdownInterval:{},cookie_slug:uagb_countdown_data.site_name_slug,cache:{},editorInit(e,t={},o){if(!t.timeModified){const n=new Date;n.setMilliseconds(n.getMilliseconds()+6048e5),t.endDateTime=n}this.elements[e]=this.getElement(e),this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,!0,o)},1e3)},createCookie(e,t,o,n){let s="";if(o){const i=new Date;"minutes"===n?i.setTime(i.getTime()+60*o*1e3):"hours"===n?i.setTime(i.getTime()+60*o*60*1e3):i.setTime(i.getTime()+24*o*60*60*1e3),s="; expires="+i.toGMTString()}document.cookie=this.cookie_slug+"-"+e+"="+t+s+"; path=/"},getCookie(e){const t="; "+document.cookie,o=t.split("; "+this.cookie_slug+"-"+e+"=");return 2===o.length?o.pop().split(";").shift():""},init(e,t={}){if(this.elements[e]=this.getElement(e),void 0!==this.elements[e]){if("evergreen"===t?.timerType){var o=""!==t?.campaignID&&null!==t?.campaignID?t.campaignID:t.block_id;if(this.cache.cookie=this.getCookie(o),""!==this.cache.cookie){const s=new Date;var n=Math.floor(this.cache.cookie-s.getTime()),n=s.getTime()+n;const i=new Date(n);t.endDateTime=i.toISOString().replace(/\.\d{3}Z$/,"Z")}else{t.endDateTime=this.getEvergreenEndDate(t.evergreenDays,t.evergreenHrs,t.evergreenMinutes);const r=new Date;r.setTime(r.getTime()+24*Math.floor(t.evergreenDays)*60*60*1e3),r.setTime(r.getTime()+60*Math.floor(t.evergreenHrs)*60*1e3),r.setTime(r.getTime()+60*Math.floor(t.evergreenMinutes)*1e3),this.cache.evergreen=r.getTime()+100;n=""!==t?.resetDays&&0<t.resetDays?t.resetDays:30;this.createCookie(o,this.cache.evergreen,n,"days")}}this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t)},1e3)}},changeEndTime(e,t={},o){clearInterval(this.countdownInterval[e]),void 0!==this.elements[e]&&(this.countdownInterval[e]=setInterval(()=>{this.updateCountdown(e,t,!0,o)},1e3))},getElement(e){let t=document.querySelector(e);const o=document.querySelector('iframe[name="editor-canvas"]');return t=o&&o.contentDocument?o.contentDocument.querySelector(e):t},updateCountdown(a,c,u=!1,l=null){if(!u||l){c.showDays&&(c.showHours=!0,c.showMinutes=!0),c.showHours&&(c.showMinutes=!0);let e,t,o,n;n=u?(c.showDays&&(e=l.querySelector(".wp-block-uagb-countdown__time-days")),c.showHours&&(t=l.querySelector(".wp-block-uagb-countdown__time-hours")),c.showMinutes&&(o=l.querySelector(".wp-block-uagb-countdown__time-minutes")),l.querySelector(".wp-block-uagb-countdown__time-seconds")):(c.showDays&&(e=this.elements[a]?.querySelector(".wp-block-uagb-countdown__time-days")),c.showHours&&(t=this.elements[a]?.querySelector(".wp-block-uagb-countdown__time-hours")),c.showMinutes&&(o=this.elements[a]?.querySelector(".wp-block-uagb-countdown__time-minutes")),this.elements[a]?.querySelector(".wp-block-uagb-countdown__time-seconds"));var u=new Date,l=new Date(c.endDateTime)-u,u=l<0,h=Math.floor(l/1e3/60/60/24);let s=Math.floor(l/1e3/60/60)%24,i=Math.floor(l/1e3/60)%60,r=Math.floor(l/1e3)%60;c.showDays||(s+=24*h),c.showHours||(i+=60*s),c.showMinutes||(r+=60*i),c.showDays&&e&&(e.innerHTML=u?0:h),c.showHours&&t&&(t.innerHTML=u?0:s),c.showMinutes&&o&&(o.innerHTML=u?0:i),n&&(n.innerHTML=u?0:r),u&&clearInterval(this.countdownInterval[a])}},getEvergreenEndDate(e,t,o){const n=new Date,s=new Date(n.getTime()+60*(24*e*60+60*t+o)*1e3);return s.toISOString().replace(/\.\d{3}Z$/,"Z")}};